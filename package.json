{
  "name": "boston",
  "author": "You!",
  "description": "The node.js requirements to build this project.",
  "version": "1.0.0",
  "repository": {},
  "devDependencies": {
    "browser-sync": "^2.24.7",
    "compass-mixins": "^0.12.10",
    "compass-options": "^0.1.1",
    "del": "^2.2.0",
    "gulp": "^3.9.1",
    "gulp-autoprefixer": "^3.1.0",
    "gulp-concat": "^2.6.0",
    "gulp-debug": "^2.1.2",
    "gulp-if": "^2.0.1",
    "gulp-jshint": "^2.0.1",
    "gulp-load-plugins": "^1.2.4",
    "gulp-rename": "^1.2.2",
    "gulp-size": "^2.1.0",
    "gulp-sourcemaps": "^1.6.0",
    "gulp-uglify": "^1.5.3",
    "gulp-util": "^3.0.7",
    "jshint": "^2.9.6"
  },
  "engines": {
    "node": ">=5.6.0"
  },
  "private": true,
  "//": "The postinstall script is needed to work-around this Drupal core bug: https://www.drupal.org/node/2329453",
  "scripts": {
    "install-dependencies": "npm install",
    "uninstall-dependencies": "rm -r node_modules",
    "postinstall": "find node_modules/ -name '*.info' -type f -delete",
    "test": "gulp && git status | grep 'working directory clean' >/dev/null || (echo 'Please commit all changes generated by building'; exit 1)",
    "build": "gulp",
    "build:boston": "gulp",
    "build:boston_public": "gulp --public",
    "build:boston_hub": "gulp --hub",
    "watch": "gulp watch",
    "serve": "gulp serve"
  },
  "dependencies": {
    "debug": "^2.6.9",
    "natives": "^1.1.3",
    "run-sequence": "^2.2.0"
  },
  "labtest": {
    "app_name": "bostongov",
    "host": "test",
    "test_domain": "digital-test.boston.gov",
    "use_ssh_config": true,
    "provider": "aws",
    "code_repo_url": "git@github.com:CityOfBoston/boston.gov.git",
    "container_build_command": "docker build -t $APP_NAME/$INSTANCE_NAME -f dockerfiles/drupal .",
    "environment": [
      "DRUPAL_DATABASE_HOST=mysql",
      "DRUPAL_BASE_URL=http://$VIRTUAL_HOST",
      "DRUPAL_SITE=default"
    ],
    "services": {
      "mysql": {
        "provider": "docker",
        "service": "mysql",
        "provision_type": "independent",
        "options": {
          "initial_data_source": "/backups/bostongov/",
          "image": "mysql:5.6",
          "commands": [
            "--character-set-server=utf8mb4",
            "--collation-server=utf8mb4_unicode_ci"
          ],
          "environment": [
            "MYSQL_ALLOW_EMPTY_PASSWORD=true",
            "MYSQL_DATABASE=drupal"
          ]
        }
      }
    }
  }
}
